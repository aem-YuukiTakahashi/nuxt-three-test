(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{266:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n(259);var o=n(131),r=n(130),c=n(267),l=n(260),d=n(261),m=n(258),h=(n(18),n(34),n(269),n(186),n(257));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}var v={type:"change"},w={type:"start"},y={type:"end"},E=function(e){Object(l.a)(n,e);var t=f(n);function n(object,e){var o,l,d,m,f,E,O;Object(r.a)(this,n),(o=t.call(this)).object=object,o.domElement=e,o.domElement.style.touchAction="none",o.enabled=!0,o.target=new h.V,o.minDistance=0,o.maxDistance=1/0,o.minZoom=0,o.maxZoom=1/0,o.minPolarAngle=0,o.maxPolarAngle=Math.PI,o.minAzimuthAngle=-1/0,o.maxAzimuthAngle=1/0,o.enableDamping=!1,o.dampingFactor=.05,o.enableZoom=!0,o.zoomSpeed=1,o.enableRotate=!0,o.rotateSpeed=1,o.enablePan=!0,o.panSpeed=1,o.screenSpacePanning=!0,o.keyPanSpeed=7,o.autoRotate=!1,o.autoRotateSpeed=2,o.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},o.mouseButtons={LEFT:h.v.ROTATE,MIDDLE:h.v.DOLLY,RIGHT:h.v.PAN},o.touches={ONE:h.R.ROTATE,TWO:h.R.DOLLY_PAN},o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.zoom0=o.object.zoom,o._domElementKeyEvents=null,o.getPolarAngle=function(){return j.phi},o.getAzimuthalAngle=function(){return j.theta},o.getDistance=function(){return this.object.position.distanceTo(this.target)},o.listenToKeyEvents=function(e){e.addEventListener("keydown",me),this._domElementKeyEvents=e},o.saveState=function(){P.target0.copy(P.target),P.position0.copy(P.object.position),P.zoom0=P.object.zoom},o.reset=function(){P.target.copy(P.target0),P.object.position.copy(P.position0),P.object.zoom=P.zoom0,P.object.updateProjectionMatrix(),P.dispatchEvent(v),P.update(),A=T.NONE},o.update=(l=new h.V,d=(new h.H).setFromUnitVectors(object.up,new h.V(0,1,0)),m=d.clone().invert(),f=new h.V,E=new h.H,O=2*Math.PI,function(){var e=P.object.position;l.copy(e).sub(P.target),l.applyQuaternion(d),j.setFromVector3(l),P.autoRotate&&A===T.NONE&&Z(2*Math.PI/60/60*P.autoRotateSpeed),P.enableDamping?(j.theta+=x.theta*P.dampingFactor,j.phi+=x.phi*P.dampingFactor):(j.theta+=x.theta,j.phi+=x.phi);var t=P.minAzimuthAngle,n=P.maxAzimuthAngle;return isFinite(t)&&isFinite(n)&&(t<-Math.PI?t+=O:t>Math.PI&&(t-=O),n<-Math.PI?n+=O:n>Math.PI&&(n-=O),j.theta=t<=n?Math.max(t,Math.min(n,j.theta)):j.theta>(t+n)/2?Math.max(t,j.theta):Math.min(n,j.theta)),j.phi=Math.max(P.minPolarAngle,Math.min(P.maxPolarAngle,j.phi)),j.makeSafe(),j.radius*=L,j.radius=Math.max(P.minDistance,Math.min(P.maxDistance,j.radius)),!0===P.enableDamping?P.target.addScaledVector(M,P.dampingFactor):P.target.add(M),l.setFromSpherical(j),l.applyQuaternion(m),e.copy(P.target).add(l),P.object.lookAt(P.target),!0===P.enableDamping?(x.theta*=1-P.dampingFactor,x.phi*=1-P.dampingFactor,M.multiplyScalar(1-P.dampingFactor)):(x.set(0,0,0),M.set(0,0,0)),L=1,!!(N||f.distanceToSquared(P.object.position)>R||8*(1-E.dot(P.object.quaternion))>R)&&(P.dispatchEvent(v),f.copy(P.object.position),E.copy(P.object.quaternion),N=!1,!0)}),o.dispose=function(){P.domElement.removeEventListener("contextmenu",he),P.domElement.removeEventListener("pointerdown",se),P.domElement.removeEventListener("pointercancel",ue),P.domElement.removeEventListener("wheel",de),P.domElement.removeEventListener("pointermove",ce),P.domElement.removeEventListener("pointerup",le),null!==P._domElementKeyEvents&&P._domElementKeyEvents.removeEventListener("keydown",me)};var P=Object(c.a)(o),T={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},A=T.NONE,R=1e-6,j=new h.P,x=new h.P,L=1,M=new h.V,N=!1,k=new h.U,S=new h.U,C=new h.U,_=new h.U,Y=new h.U,D=new h.U,I=new h.U,U=new h.U,z=new h.U,H=[],F={};function X(){return Math.pow(.95,P.zoomSpeed)}function Z(e){x.theta-=e}function V(e){x.phi-=e}var K,G=(K=new h.V,function(e,t){K.setFromMatrixColumn(t,0),K.multiplyScalar(-e),M.add(K)}),W=function(){var e=new h.V;return function(t,n){!0===P.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(P.object.up,e)),e.multiplyScalar(t),M.add(e)}}(),B=function(){var e=new h.V;return function(t,n){var element=P.domElement;if(P.object.isPerspectiveCamera){var o=P.object.position;e.copy(o).sub(P.target);var r=e.length();r*=Math.tan(P.object.fov/2*Math.PI/180),G(2*t*r/element.clientHeight,P.object.matrix),W(2*n*r/element.clientHeight,P.object.matrix)}else P.object.isOrthographicCamera?(G(t*(P.object.right-P.object.left)/P.object.zoom/element.clientWidth,P.object.matrix),W(n*(P.object.top-P.object.bottom)/P.object.zoom/element.clientHeight,P.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),P.enablePan=!1)}}();function J(e){P.object.isPerspectiveCamera?L/=e:P.object.isOrthographicCamera?(P.object.zoom=Math.max(P.minZoom,Math.min(P.maxZoom,P.object.zoom*e)),P.object.updateProjectionMatrix(),N=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),P.enableZoom=!1)}function Q(e){P.object.isPerspectiveCamera?L*=e:P.object.isOrthographicCamera?(P.object.zoom=Math.max(P.minZoom,Math.min(P.maxZoom,P.object.zoom/e)),P.object.updateProjectionMatrix(),N=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),P.enableZoom=!1)}function $(e){k.set(e.clientX,e.clientY)}function ee(e){_.set(e.clientX,e.clientY)}function te(){if(1===H.length)k.set(H[0].pageX,H[0].pageY);else{var e=.5*(H[0].pageX+H[1].pageX),t=.5*(H[0].pageY+H[1].pageY);k.set(e,t)}}function ne(){if(1===H.length)_.set(H[0].pageX,H[0].pageY);else{var e=.5*(H[0].pageX+H[1].pageX),t=.5*(H[0].pageY+H[1].pageY);_.set(e,t)}}function ae(){var e=H[0].pageX-H[1].pageX,t=H[0].pageY-H[1].pageY,n=Math.sqrt(e*e+t*t);I.set(0,n)}function oe(e){if(1==H.length)S.set(e.pageX,e.pageY);else{var t=ve(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);S.set(n,o)}C.subVectors(S,k).multiplyScalar(P.rotateSpeed);var element=P.domElement;Z(2*Math.PI*C.x/element.clientHeight),V(2*Math.PI*C.y/element.clientHeight),k.copy(S)}function ie(e){if(1===H.length)Y.set(e.pageX,e.pageY);else{var t=ve(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);Y.set(n,o)}D.subVectors(Y,_).multiplyScalar(P.panSpeed),B(D.x,D.y),_.copy(Y)}function re(e){var t=ve(e),n=e.pageX-t.x,o=e.pageY-t.y,r=Math.sqrt(n*n+o*o);U.set(0,r),z.set(0,Math.pow(U.y/I.y,P.zoomSpeed)),J(z.y),I.copy(U)}function se(e){!1!==P.enabled&&(0===H.length&&(P.domElement.setPointerCapture(e.pointerId),P.domElement.addEventListener("pointermove",ce),P.domElement.addEventListener("pointerup",le)),function(e){H.push(e)}(e),"touch"===e.pointerType?function(e){switch(fe(e),H.length){case 1:switch(P.touches.ONE){case h.R.ROTATE:if(!1===P.enableRotate)return;te(),A=T.TOUCH_ROTATE;break;case h.R.PAN:if(!1===P.enablePan)return;ne(),A=T.TOUCH_PAN;break;default:A=T.NONE}break;case 2:switch(P.touches.TWO){case h.R.DOLLY_PAN:if(!1===P.enableZoom&&!1===P.enablePan)return;P.enableZoom&&ae(),P.enablePan&&ne(),A=T.TOUCH_DOLLY_PAN;break;case h.R.DOLLY_ROTATE:if(!1===P.enableZoom&&!1===P.enableRotate)return;P.enableZoom&&ae(),P.enableRotate&&te(),A=T.TOUCH_DOLLY_ROTATE;break;default:A=T.NONE}break;default:A=T.NONE}A!==T.NONE&&P.dispatchEvent(w)}(e):function(e){var t;switch(e.button){case 0:t=P.mouseButtons.LEFT;break;case 1:t=P.mouseButtons.MIDDLE;break;case 2:t=P.mouseButtons.RIGHT;break;default:t=-1}switch(t){case h.v.DOLLY:if(!1===P.enableZoom)return;!function(e){I.set(e.clientX,e.clientY)}(e),A=T.DOLLY;break;case h.v.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===P.enablePan)return;ee(e),A=T.PAN}else{if(!1===P.enableRotate)return;$(e),A=T.ROTATE}break;case h.v.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===P.enableRotate)return;$(e),A=T.ROTATE}else{if(!1===P.enablePan)return;ee(e),A=T.PAN}break;default:A=T.NONE}A!==T.NONE&&P.dispatchEvent(w)}(e))}function ce(e){!1!==P.enabled&&("touch"===e.pointerType?function(e){switch(fe(e),A){case T.TOUCH_ROTATE:if(!1===P.enableRotate)return;oe(e),P.update();break;case T.TOUCH_PAN:if(!1===P.enablePan)return;ie(e),P.update();break;case T.TOUCH_DOLLY_PAN:if(!1===P.enableZoom&&!1===P.enablePan)return;!function(e){P.enableZoom&&re(e),P.enablePan&&ie(e)}(e),P.update();break;case T.TOUCH_DOLLY_ROTATE:if(!1===P.enableZoom&&!1===P.enableRotate)return;!function(e){P.enableZoom&&re(e),P.enableRotate&&oe(e)}(e),P.update();break;default:A=T.NONE}}(e):function(e){switch(A){case T.ROTATE:if(!1===P.enableRotate)return;!function(e){S.set(e.clientX,e.clientY),C.subVectors(S,k).multiplyScalar(P.rotateSpeed);var element=P.domElement;Z(2*Math.PI*C.x/element.clientHeight),V(2*Math.PI*C.y/element.clientHeight),k.copy(S),P.update()}(e);break;case T.DOLLY:if(!1===P.enableZoom)return;!function(e){U.set(e.clientX,e.clientY),z.subVectors(U,I),z.y>0?J(X()):z.y<0&&Q(X()),I.copy(U),P.update()}(e);break;case T.PAN:if(!1===P.enablePan)return;!function(e){Y.set(e.clientX,e.clientY),D.subVectors(Y,_).multiplyScalar(P.panSpeed),B(D.x,D.y),_.copy(Y),P.update()}(e)}}(e))}function le(e){pe(e),0===H.length&&(P.domElement.releasePointerCapture(e.pointerId),P.domElement.removeEventListener("pointermove",ce),P.domElement.removeEventListener("pointerup",le)),P.dispatchEvent(y),A=T.NONE}function ue(e){pe(e)}function de(e){!1!==P.enabled&&!1!==P.enableZoom&&A===T.NONE&&(e.preventDefault(),P.dispatchEvent(w),function(e){e.deltaY<0?Q(X()):e.deltaY>0&&J(X()),P.update()}(e),P.dispatchEvent(y))}function me(e){!1!==P.enabled&&!1!==P.enablePan&&function(e){var t=!1;switch(e.code){case P.keys.UP:B(0,P.keyPanSpeed),t=!0;break;case P.keys.BOTTOM:B(0,-P.keyPanSpeed),t=!0;break;case P.keys.LEFT:B(P.keyPanSpeed,0),t=!0;break;case P.keys.RIGHT:B(-P.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),P.update())}(e)}function he(e){!1!==P.enabled&&e.preventDefault()}function pe(e){delete F[e.pointerId];for(var i=0;i<H.length;i++)if(H[i].pointerId==e.pointerId)return void H.splice(i,1)}function fe(e){var t=F[e.pointerId];void 0===t&&(t=new h.U,F[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ve(e){var t=e.pointerId===H[0].pointerId?H[1]:H[0];return F[t.pointerId]}return P.domElement.addEventListener("contextmenu",he),P.domElement.addEventListener("pointerdown",se),P.domElement.addEventListener("pointercancel",ue),P.domElement.addEventListener("wheel",de,{passive:!1}),o.update(),o}return Object(o.a)(n)}(h.n)},340:function(e,t,n){var content=n(461);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(103).default)("444bd85e",content,!0,{sourceMap:!1})},460:function(e,t,n){"use strict";n(340)},461:function(e,t,n){var o=n(102)(!1);o.push([e.i,"\n#loader[data-v-aea51db2] {\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: black;\n  z-index: 100000;\n}\n#loader.active[data-v-aea51db2] {\n  display: none;\n}\n.loading__inner[data-v-aea51db2] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n  height: 100%;\n}\n.loading__inner p[data-v-aea51db2] {\n  text-align: center;\n  color: white;\n}\n#myCanvas[data-v-aea51db2] {\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2;\n}\n",""]),e.exports=o},467:function(e,t,n){"use strict";n.r(t);n(268),n(74),n(276),n(18),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(58),n(44),n(60),n(36),n(27),n(35),n(61),n(62),n(34);var o=n(265),r=n(257),c=n(266);function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw r}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var m={props:{imgList:{type:[],default:function(){}},fov:{type:Number,default:40}},data:function(){return{width:window.innerWidth,height:window.innerHeight,threeRenderer:null,threeCamera:null,isThreeAnimation:!0,scene:null,isLoading:!0,loadingProgress:0,mouse:{x:.5,y:.5},uniforms:{utime:{value:.5},amplitude:{value:.1},uTexture:null,uAspect:{value:this.width/this.height},uTime:{value:0},uMouse:{value:this.mouse}},displacement:null,noise:null,rota:0,geo:null}},computed:{fovRad:function(){return this.fov/2*(Math.PI/180)},distance:function(){return this.height/2/Math.tan(this.fovRad)}},mounted:function(){this.init(),this.initGui()},methods:{init:function(){var e=this;console.log(this.imgList);var t=window.innerWidth,n=window.innerHeight,o=document.querySelector("#myCanvas"),d=new r.X({canvas:o});d.setPixelRatio(window.devicePixelRatio),d.setSize(t,n),this.threeRenderer=d;var m=new r.F(this.fov,t/n);m.position.z=this.distance,m.lookAt(new r.V(0,0,0)),this.threeCamera=m;var h=new r.J;h.background=new r.j(16777215),this.scene=h,new c.a(this.threeCamera,o).enableZoom=!1;var f=new r.c(500);this.scene.add(f);var v=new r.u;v.onLoad=function(){setTimeout((function(){e.loadingProgress=100}),1500),setTimeout((function(){e.isLoading=!1}),2e3)},v.onProgress=function(t,n,o){e.loadingProgress=n/o*99},v.onError=function(e){console.error("There was an error loading "+e)};var w,y=new r.S(v),E=l(this.imgList);try{for(E.s();!(w=E.n()).done;){var O=w.value;y.load(O,(function(t){var n=new r.G(1024,683,10,10);e.displacement=e.noise=new Float32Array(n.attributes.position.count),console.log(e.displacement);for(var i=0;i<e.displacement.length;i++)e.noise[i]=5*Math.random();n.setAttribute("displacement",new r.f(e.displacement,1)),e.geo=n,e.uniforms.uTexture={value:t};var o=new r.K({uniforms:e.uniforms,vertexShader:"varying vec2 vUv;\nvarying vec3 vNormal;\n\nuniform float utime;\nuniform float amplitude;\n\nattribute float displacement;\n\nvoid main(){\n  \n  vNormal=normal;\n  vUv=uv;\n  \n  vec3 newPosition=position+amplitude*normal*vec3(displacement);\n  \n  gl_Position=projectionMatrix*modelViewMatrix*vec4(newPosition,1.);\n}",fragmentShader:"varying vec2 vUv;\nvarying vec3 vNormal;\n\nuniform sampler2D uTexture;\n\nvoid main(){\n  vec4 tcolor=texture2D(uTexture,vUv);\n  gl_FragColor=tcolor;\n}",wireframe:!1}),c=new r.y(n,o);e.geo=c,e.scene.add(c)}),void 0,(function(){console.error("An error happened.")}))}}catch(e){E.e(e)}finally{E.f()}this.onResize(),this.animate(),window.addEventListener("resize",this.onResize,!1),window.addEventListener("mousemove",(function(t){e.mouseMoved(t.clientX,t.clientY)}))},animate:function(){if(!this.isThreeAnimation)return cancelAnimationFrame(this.animate);requestAnimationFrame(this.animate),this.render()},render:function(){window.innerWidth,window.innerHeight;var time=.01*Date.now();if(this.rota=1e-4*time,this.uniforms.amplitude.value=2.5*Math.sin(.125*this.rota),this.displacement){for(var i=0;i<this.displacement.length;i++)this.displacement[i]=Math.sin(.1*i+time),this.noise[i]+=.5*(.5-Math.random()),this.noise[i]=r.w.clamp(this.noise[i],-5,5),this.displacement[i]+=this.noise[i];this.geo.geometry.attributes.displacement.needsUpdate=!0}this.threeRenderer.render(this.scene,this.threeCamera)},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.threeCamera.aspect=this.width/this.height,this.threeCamera.updateProjectionMatrix(),this.threeRenderer.setPixelRatio(window.devicePixelRatio),this.threeRenderer.setSize(this.width,this.height)},mouseMoved:function(e,t){this.mouse.x=e/this.width,this.mouse.y=1-t/this.height},initGui:function(){new o.a}},beforeDestroy:function(){this.isThreeAnimation=!1}},h=(n(460),n(42)),component=Object(h.a)(m,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"shader-img-1"},[t("canvas",{ref:"canvas",attrs:{id:"myCanvas"}}),t("div",{staticClass:"loading",class:{active:!e.isLoading},attrs:{id:"loader"}},[t("div",{staticClass:"loading__inner"},[t("p",[e._v("Loading...")]),t("p",[e._v(e._s(e.loadingProgress)+"%")])])])])}),[],!1,null,"aea51db2",null);t.default=component.exports}}]);