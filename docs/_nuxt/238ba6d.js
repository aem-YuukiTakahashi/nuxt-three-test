(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{338:function(e,t,n){var content=n(459);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(103).default)("4046aa6c",content,!0,{sourceMap:!1})},458:function(e,t,n){"use strict";n(338)},459:function(e,t,n){var o=n(102)(!1);o.push([e.i,"\n#loader[data-v-649ce031] {\n  width: 100%;\n  height: 100vh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  background-color: black;\n  z-index: 10000;\n}\n#loader.active[data-v-649ce031] {\n  display: none;\n}\n.loading__inner[data-v-649ce031] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n  height: 100%;\n}\n.loading__inner p[data-v-649ce031] {\n  text-align: center;\n  color: white;\n}\n#myCanvas[data-v-649ce031] {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 0;\n}\n\n",""]),e.exports=o},493:function(e,t,n){"use strict";n.r(t);n(268),n(74),n(58),n(18),n(44),n(59),n(35),n(27),n(36),n(61),n(62),n(34);var o=n(264),r=n(256);function h(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,h=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return h=e.done,e},e:function(e){d=!0,r=e},f:function(){try{h||null==n.return||n.return()}finally{if(d)throw r}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var d={props:{imgList:{type:[],default:function(){}},fov:{type:Number,default:40},pageMove:{type:Boolean,default:!1}},data:function(){return{width:window.innerWidth,height:window.innerHeight,threeRenderer:null,threeCamera:null,threeScene:null,isThreeAnimation:!0,isLoading:!0,loadingProgress:0,wallPosiIndex:0,wallPosi1:0,wallPosi2:Math.PI/180*-90,wallPosi3:Math.PI/180*-180,wallPosi4:Math.PI/180*-270,movieReverse:!1,lot:0,mouseX:0,mouseY:0}},computed:{},mounted:function(){this.init(),this.initGui()},methods:{init:function(){var e=this;console.log(this.imgList);var t=new r.Y({canvas:document.querySelector("#myCanvas")});t.setPixelRatio(window.devicePixelRatio),t.setSize(this.width,this.height),this.threeRenderer=t;var n=new r.G(80,this.width/this.height,.01,100);n.position.z=3,n.focalLength=3,this.threeCamera=n;var o=(new r.k).load(this.imgList),l=new r.K;l.background=o,this.threeScene=l;var d=new r.c(500);l.add(d);var c=new r.v;c.onLoad=function(){setTimeout((function(){e.loadingProgress=100}),1500),setTimeout((function(){e.isLoading=!1}),2e3)},c.onProgress=function(t,n,o){e.loadingProgress=n/o*99},c.onError=function(e){console.error("There was an error loading "+e)};var m,f=new r.T(c),w=h(this.imgList);try{for(w.s();!(m=w.n()).done;){var v=m.value;f.load(v,(function(e){console.log("texture = ",e)}),void 0,(function(){console.error("An error happened.")}))}}catch(e){w.e(e)}finally{w.f()}this.onResize(),window.addEventListener("resize",this.onResize),this.animate(),window.addEventListener("scroll",this.scroll,!1),document.addEventListener("mousemove",(function(t){e.mouseX=t.pageX,e.mouseY=t.pageY}))},animate:function(){if(!this.isThreeAnimation)return cancelAnimationFrame(this.animate);requestAnimationFrame(this.animate),this.render()},render:function(){window.innerWidth,window.innerHeight;0==this.wallPosiIndex?this.movieReverse&&this.threeCamera.rotation.y<0&&(this.threeCamera.rotation.y+=.1):1==this.wallPosiIndex?this.movieReverse?this.threeCamera.rotation.y<this.wallPosi2&&(this.threeCamera.rotation.y+=.1):this.threeCamera.rotation.y>this.wallPosi2&&(this.threeCamera.rotation.y-=.1):2==this.wallPosiIndex?this.movieReverse?this.threeCamera.rotation.y<this.wallPosi3&&(this.threeCamera.rotation.y+=.1):this.threeCamera.rotation.y>this.wallPosi3&&(this.threeCamera.rotation.y-=.1):3==this.wallPosiIndex?this.threeCamera.rotation.y>this.wallPosi4&&(this.threeCamera.rotation.y-=.1):4==this.wallPosiIndex||this.wallPosiIndex,this.threeRenderer.render(this.threeScene,this.threeCamera)},onResize:function(){this.width=window.innerWidth,this.height=window.innerHeight,this.threeCamera.aspect=this.width/this.height,this.threeCamera.updateProjectionMatrix(),this.threeRenderer.setPixelRatio(window.devicePixelRatio),this.threeRenderer.setSize(this.width,this.height)},initGui:function(){var e=(new o.a).addFolder("CameraPosition");e.add(this.threeCamera.position,"x"),e.add(this.threeCamera.position,"y"),e.add(this.threeCamera.position,"z")},scroll:function(){for(var e=document.getElementsByClassName("inner"),t=Math.floor(.5*window.innerHeight),i=0;i<e.length;i++){var n=Math.floor(e[i].getBoundingClientRect().top);Math.floor(e[i].getBoundingClientRect().bottom);n<t?e[i].classList.contains("is-changed")||(e[i].classList.add("is-changed"),this.movieReverse=!1,this.wallPosiIndex=i):e[i].classList.contains("is-changed")&&(e[i].classList.remove("is-changed"),this.movieReverse=!0,this.wallPosiIndex=i-1)}console.log("this.wallPosiIndex = ",this.wallPosiIndex)}},beforeDestroy:function(){this.isThreeAnimation=!1}},c=(n(458),n(42)),component=Object(c.a)(d,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"shader-img-1"},[t("canvas",{ref:"canvas",attrs:{id:"myCanvas"}}),t("div",{staticClass:"loading",class:{active:!e.isLoading},attrs:{id:"loader"}},[t("div",{staticClass:"loading__inner"},[t("p",[e._v("Loading...")]),t("p",[e._v(e._s(e.loadingProgress)+"%")])])])])}),[],!1,null,"649ce031",null);t.default=component.exports}}]);