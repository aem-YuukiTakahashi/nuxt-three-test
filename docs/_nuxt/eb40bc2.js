(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{266:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n(259);var o=n(130),r=n(129),c=n(267),l=n(260),h=n(261),d=n(258),m=(n(18),n(34),n(269),n(186),n(256));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(h.a)(this,n)}}var v={type:"change"},w={type:"start"},y={type:"end"},E=function(e){Object(l.a)(n,e);var t=f(n);function n(object,e){var o,l,h,d,f,E,O;Object(r.a)(this,n),(o=t.call(this)).object=object,o.domElement=e,o.domElement.style.touchAction="none",o.enabled=!0,o.target=new m.W,o.minDistance=0,o.maxDistance=1/0,o.minZoom=0,o.maxZoom=1/0,o.minPolarAngle=0,o.maxPolarAngle=Math.PI,o.minAzimuthAngle=-1/0,o.maxAzimuthAngle=1/0,o.enableDamping=!1,o.dampingFactor=.05,o.enableZoom=!0,o.zoomSpeed=1,o.enableRotate=!0,o.rotateSpeed=1,o.enablePan=!0,o.panSpeed=1,o.screenSpacePanning=!0,o.keyPanSpeed=7,o.autoRotate=!1,o.autoRotateSpeed=2,o.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},o.mouseButtons={LEFT:m.w.ROTATE,MIDDLE:m.w.DOLLY,RIGHT:m.w.PAN},o.touches={ONE:m.S.ROTATE,TWO:m.S.DOLLY_PAN},o.target0=o.target.clone(),o.position0=o.object.position.clone(),o.zoom0=o.object.zoom,o._domElementKeyEvents=null,o.getPolarAngle=function(){return T.phi},o.getAzimuthalAngle=function(){return T.theta},o.getDistance=function(){return this.object.position.distanceTo(this.target)},o.listenToKeyEvents=function(e){e.addEventListener("keydown",de),this._domElementKeyEvents=e},o.saveState=function(){P.target0.copy(P.target),P.position0.copy(P.object.position),P.zoom0=P.object.zoom},o.reset=function(){P.target.copy(P.target0),P.object.position.copy(P.position0),P.object.zoom=P.zoom0,P.object.updateProjectionMatrix(),P.dispatchEvent(v),P.update(),M=j.NONE},o.update=(l=new m.W,h=(new m.I).setFromUnitVectors(object.up,new m.W(0,1,0)),d=h.clone().invert(),f=new m.W,E=new m.I,O=2*Math.PI,function(){var e=P.object.position;l.copy(e).sub(P.target),l.applyQuaternion(h),T.setFromVector3(l),P.autoRotate&&M===j.NONE&&Z(2*Math.PI/60/60*P.autoRotateSpeed),P.enableDamping?(T.theta+=x.theta*P.dampingFactor,T.phi+=x.phi*P.dampingFactor):(T.theta+=x.theta,T.phi+=x.phi);var t=P.minAzimuthAngle,n=P.maxAzimuthAngle;return isFinite(t)&&isFinite(n)&&(t<-Math.PI?t+=O:t>Math.PI&&(t-=O),n<-Math.PI?n+=O:n>Math.PI&&(n-=O),T.theta=t<=n?Math.max(t,Math.min(n,T.theta)):T.theta>(t+n)/2?Math.max(t,T.theta):Math.min(n,T.theta)),T.phi=Math.max(P.minPolarAngle,Math.min(P.maxPolarAngle,T.phi)),T.makeSafe(),T.radius*=L,T.radius=Math.max(P.minDistance,Math.min(P.maxDistance,T.radius)),!0===P.enableDamping?P.target.addScaledVector(R,P.dampingFactor):P.target.add(R),l.setFromSpherical(T),l.applyQuaternion(d),e.copy(P.target).add(l),P.object.lookAt(P.target),!0===P.enableDamping?(x.theta*=1-P.dampingFactor,x.phi*=1-P.dampingFactor,R.multiplyScalar(1-P.dampingFactor)):(x.set(0,0,0),R.set(0,0,0)),L=1,!!(C||f.distanceToSquared(P.object.position)>A||8*(1-E.dot(P.object.quaternion))>A)&&(P.dispatchEvent(v),f.copy(P.object.position),E.copy(P.object.quaternion),C=!1,!0)}),o.dispose=function(){P.domElement.removeEventListener("contextmenu",pe),P.domElement.removeEventListener("pointerdown",se),P.domElement.removeEventListener("pointercancel",ue),P.domElement.removeEventListener("wheel",he),P.domElement.removeEventListener("pointermove",ce),P.domElement.removeEventListener("pointerup",le),null!==P._domElementKeyEvents&&P._domElementKeyEvents.removeEventListener("keydown",de)};var P=Object(c.a)(o),j={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},M=j.NONE,A=1e-6,T=new m.Q,x=new m.Q,L=1,R=new m.W,C=!1,N=new m.V,k=new m.V,S=new m.V,z=new m.V,Y=new m.V,I=new m.V,H=new m.V,D=new m.V,_=new m.V,F=[],X={};function V(){return Math.pow(.95,P.zoomSpeed)}function Z(e){x.theta-=e}function W(e){x.phi-=e}var B,U=(B=new m.W,function(e,t){B.setFromMatrixColumn(t,0),B.multiplyScalar(-e),R.add(B)}),K=function(){var e=new m.W;return function(t,n){!0===P.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(P.object.up,e)),e.multiplyScalar(t),R.add(e)}}(),G=function(){var e=new m.W;return function(t,n){var element=P.domElement;if(P.object.isPerspectiveCamera){var o=P.object.position;e.copy(o).sub(P.target);var r=e.length();r*=Math.tan(P.object.fov/2*Math.PI/180),U(2*t*r/element.clientHeight,P.object.matrix),K(2*n*r/element.clientHeight,P.object.matrix)}else P.object.isOrthographicCamera?(U(t*(P.object.right-P.object.left)/P.object.zoom/element.clientWidth,P.object.matrix),K(n*(P.object.top-P.object.bottom)/P.object.zoom/element.clientHeight,P.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),P.enablePan=!1)}}();function Q(e){P.object.isPerspectiveCamera?L/=e:P.object.isOrthographicCamera?(P.object.zoom=Math.max(P.minZoom,Math.min(P.maxZoom,P.object.zoom*e)),P.object.updateProjectionMatrix(),C=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),P.enableZoom=!1)}function J(e){P.object.isPerspectiveCamera?L*=e:P.object.isOrthographicCamera?(P.object.zoom=Math.max(P.minZoom,Math.min(P.maxZoom,P.object.zoom/e)),P.object.updateProjectionMatrix(),C=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),P.enableZoom=!1)}function $(e){N.set(e.clientX,e.clientY)}function ee(e){z.set(e.clientX,e.clientY)}function te(){if(1===F.length)N.set(F[0].pageX,F[0].pageY);else{var e=.5*(F[0].pageX+F[1].pageX),t=.5*(F[0].pageY+F[1].pageY);N.set(e,t)}}function ne(){if(1===F.length)z.set(F[0].pageX,F[0].pageY);else{var e=.5*(F[0].pageX+F[1].pageX),t=.5*(F[0].pageY+F[1].pageY);z.set(e,t)}}function oe(){var e=F[0].pageX-F[1].pageX,t=F[0].pageY-F[1].pageY,n=Math.sqrt(e*e+t*t);H.set(0,n)}function ie(e){if(1==F.length)k.set(e.pageX,e.pageY);else{var t=be(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);k.set(n,o)}S.subVectors(k,N).multiplyScalar(P.rotateSpeed);var element=P.domElement;Z(2*Math.PI*S.x/element.clientHeight),W(2*Math.PI*S.y/element.clientHeight),N.copy(k)}function ae(e){if(1===F.length)Y.set(e.pageX,e.pageY);else{var t=be(e),n=.5*(e.pageX+t.x),o=.5*(e.pageY+t.y);Y.set(n,o)}I.subVectors(Y,z).multiplyScalar(P.panSpeed),G(I.x,I.y),z.copy(Y)}function re(e){var t=be(e),n=e.pageX-t.x,o=e.pageY-t.y,r=Math.sqrt(n*n+o*o);D.set(0,r),_.set(0,Math.pow(D.y/H.y,P.zoomSpeed)),Q(_.y),H.copy(D)}function se(e){!1!==P.enabled&&(0===F.length&&(P.domElement.setPointerCapture(e.pointerId),P.domElement.addEventListener("pointermove",ce),P.domElement.addEventListener("pointerup",le)),function(e){F.push(e)}(e),"touch"===e.pointerType?function(e){switch(fe(e),F.length){case 1:switch(P.touches.ONE){case m.S.ROTATE:if(!1===P.enableRotate)return;te(),M=j.TOUCH_ROTATE;break;case m.S.PAN:if(!1===P.enablePan)return;ne(),M=j.TOUCH_PAN;break;default:M=j.NONE}break;case 2:switch(P.touches.TWO){case m.S.DOLLY_PAN:if(!1===P.enableZoom&&!1===P.enablePan)return;P.enableZoom&&oe(),P.enablePan&&ne(),M=j.TOUCH_DOLLY_PAN;break;case m.S.DOLLY_ROTATE:if(!1===P.enableZoom&&!1===P.enableRotate)return;P.enableZoom&&oe(),P.enableRotate&&te(),M=j.TOUCH_DOLLY_ROTATE;break;default:M=j.NONE}break;default:M=j.NONE}M!==j.NONE&&P.dispatchEvent(w)}(e):function(e){var t;switch(e.button){case 0:t=P.mouseButtons.LEFT;break;case 1:t=P.mouseButtons.MIDDLE;break;case 2:t=P.mouseButtons.RIGHT;break;default:t=-1}switch(t){case m.w.DOLLY:if(!1===P.enableZoom)return;!function(e){H.set(e.clientX,e.clientY)}(e),M=j.DOLLY;break;case m.w.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===P.enablePan)return;ee(e),M=j.PAN}else{if(!1===P.enableRotate)return;$(e),M=j.ROTATE}break;case m.w.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===P.enableRotate)return;$(e),M=j.ROTATE}else{if(!1===P.enablePan)return;ee(e),M=j.PAN}break;default:M=j.NONE}M!==j.NONE&&P.dispatchEvent(w)}(e))}function ce(e){!1!==P.enabled&&("touch"===e.pointerType?function(e){switch(fe(e),M){case j.TOUCH_ROTATE:if(!1===P.enableRotate)return;ie(e),P.update();break;case j.TOUCH_PAN:if(!1===P.enablePan)return;ae(e),P.update();break;case j.TOUCH_DOLLY_PAN:if(!1===P.enableZoom&&!1===P.enablePan)return;!function(e){P.enableZoom&&re(e),P.enablePan&&ae(e)}(e),P.update();break;case j.TOUCH_DOLLY_ROTATE:if(!1===P.enableZoom&&!1===P.enableRotate)return;!function(e){P.enableZoom&&re(e),P.enableRotate&&ie(e)}(e),P.update();break;default:M=j.NONE}}(e):function(e){switch(M){case j.ROTATE:if(!1===P.enableRotate)return;!function(e){k.set(e.clientX,e.clientY),S.subVectors(k,N).multiplyScalar(P.rotateSpeed);var element=P.domElement;Z(2*Math.PI*S.x/element.clientHeight),W(2*Math.PI*S.y/element.clientHeight),N.copy(k),P.update()}(e);break;case j.DOLLY:if(!1===P.enableZoom)return;!function(e){D.set(e.clientX,e.clientY),_.subVectors(D,H),_.y>0?Q(V()):_.y<0&&J(V()),H.copy(D),P.update()}(e);break;case j.PAN:if(!1===P.enablePan)return;!function(e){Y.set(e.clientX,e.clientY),I.subVectors(Y,z).multiplyScalar(P.panSpeed),G(I.x,I.y),z.copy(Y),P.update()}(e)}}(e))}function le(e){me(e),0===F.length&&(P.domElement.releasePointerCapture(e.pointerId),P.domElement.removeEventListener("pointermove",ce),P.domElement.removeEventListener("pointerup",le)),P.dispatchEvent(y),M=j.NONE}function ue(e){me(e)}function he(e){!1!==P.enabled&&!1!==P.enableZoom&&M===j.NONE&&(e.preventDefault(),P.dispatchEvent(w),function(e){e.deltaY<0?J(V()):e.deltaY>0&&Q(V()),P.update()}(e),P.dispatchEvent(y))}function de(e){!1!==P.enabled&&!1!==P.enablePan&&function(e){var t=!1;switch(e.code){case P.keys.UP:G(0,P.keyPanSpeed),t=!0;break;case P.keys.BOTTOM:G(0,-P.keyPanSpeed),t=!0;break;case P.keys.LEFT:G(P.keyPanSpeed,0),t=!0;break;case P.keys.RIGHT:G(-P.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),P.update())}(e)}function pe(e){!1!==P.enabled&&e.preventDefault()}function me(e){delete X[e.pointerId];for(var i=0;i<F.length;i++)if(F[i].pointerId==e.pointerId)return void F.splice(i,1)}function fe(e){var t=X[e.pointerId];void 0===t&&(t=new m.V,X[e.pointerId]=t),t.set(e.pageX,e.pageY)}function be(e){var t=e.pointerId===F[0].pointerId?F[1]:F[0];return X[t.pointerId]}return P.domElement.addEventListener("contextmenu",pe),P.domElement.addEventListener("pointerdown",se),P.domElement.addEventListener("pointercancel",ue),P.domElement.addEventListener("wheel",he,{passive:!1}),o.update(),o}return Object(o.a)(n)}(m.n)},329:function(e,t,n){var content=n(437);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(103).default)("5b9cbd4f",content,!0,{sourceMap:!1})},436:function(e,t,n){"use strict";n(329)},437:function(e,t,n){var o=n(102)(!1);o.push([e.i,"\n#myCanvas[data-v-c2cca2b8] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2;\n}\n",""]),e.exports=o},482:function(e,t,n){"use strict";n.r(t);n(44),n(18),n(37),n(275),n(47);var o=n(264),r=n(256),c=n(266),l={data:function(){return{renderer:null,rendererBgColor:{color:"#000000",opacity:1},scene:null,sceneBgColor:{color:"#000000"},camera:null,raycaster:null,mousePosition:null,fov:45,isAnime:!0,highlightMesh:null,sphereMesh:null,putObjects:[]}},computed:{fovRad:function(){return this.fov/2*(Math.PI/180)},distance:function(){return window.innerHeight/2/Math.tan(this.fovRad)}},mounted:function(){this.init(),this.initGui()},methods:{init:function(){var e=window.innerWidth,t=window.innerHeight,n=new r.Y({canvas:document.querySelector("#myCanvas")});n.setPixelRatio(window.devicePixelRatio),n.setClearColor(new r.j(this.rendererBgColor.color),this.rendererBgColor.opacity),n.setSize(e,t),this.renderer=n;var o=new r.G(this.fov,e/t,.1,1e3);o.position.set(10,15,-22),this.camera=o,new c.a(o,n.domElement).update();var l=new r.K;this.scene=l;var h=new r.c(500);h.name="AxesHelper",l.add(h);var d=new r.z(new r.H(20,20),new r.A({side:r.m,visible:!1}));d.rotateX(-Math.PI/2),d.name="ground",l.add(d);var m=new r.z(new r.H(1,1),new r.A({side:r.m}));m.rotateX(-Math.PI/2),m.position.set(.5,0,.5),l.add(m),this.highlightMesh=m;var f=new r.z(new r.P(.4,4,2),new r.A({wireframe:!0,color:16771584}));this.sphereMesh=f;var v=new r.s(20,20);l.add(v);var w=new r.J;this.raycaster=w;var y=new r.V;this.mousePosition=y,window.addEventListener("mousemove",this.onPointerMove),window.addEventListener("mousedown",this.onPointerDown),this.onResize(),window.addEventListener("resize",this.onResize,!1),this.animate()},onPointerMove:function(e){var t=this;this.mousePosition.x=e.clientX/window.innerWidth*2-1,this.mousePosition.y=-e.clientY/window.innerHeight*2+1,this.raycaster.setFromCamera(this.mousePosition,this.camera);var n=this.raycaster.intersectObjects(this.scene.children,!1);n.length>0?n.forEach((function(e){if("ground"===e.object.name){var n=(new r.W).copy(e.point).floor().addScalar(.5);t.highlightMesh.position.set(n.x,0,n.z),t.putObjects.find((function(object){return object.position.x===t.highlightMesh.position.x&&object.position.z===t.highlightMesh.position.z}))?t.highlightMesh.material.color.setHex(16711680):t.highlightMesh.material.color.setHex(16777215)}})):this.highlightMesh.position.set(.5,0,.5)},onPointerDown:function(e){var t=this,n=this.putObjects.find((function(object){return object.position.x===t.highlightMesh.position.x&&object.position.z===t.highlightMesh.position.z}));(console.log(n),n)?(this.putObjects=this.putObjects.filter((function(e){return console.log(e),n.position.x!==e.position.x&&n.position.z!==e.position.z})),this.scene.remove(n),n.material.dispose(),n.geometry.dispose(),this.highlightMesh.material.color.setHex(16777215)):(this.raycaster.setFromCamera(this.mousePosition,this.camera),this.raycaster.intersectObjects(this.scene.children,!1).forEach((function(e){if("ground"===e.object.name){var n=t.sphereMesh.clone();n.position.copy(t.highlightMesh.position),t.scene.add(n),t.putObjects.push(n),t.highlightMesh.material.color.setHex(16711680)}})));console.log("scene len = ",this.scene.children.length)},animate:function(){if(!this.isAnime)return cancelAnimationFrame(this.animate);requestAnimationFrame(this.animate),this.render()},render:function(){window.innerWidth,window.innerHeight;this.renderer.render(this.scene,this.camera)},onResize:function(){var e=window.innerWidth,t=window.innerHeight;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,t)},initGui:function(){var e=this,t=(new o.a).addFolder("Renderer");t.addColor(this.rendererBgColor,"color").onChange((function(t){e.renderer.setClearColor(new r.j(e.rendererBgColor.color),e.rendererBgColor.opacity)})),t.add(this.rendererBgColor,"opacity").min(0).max(1).onChange((function(t){e.renderer.setClearColor(new r.j(e.rendererBgColor.color),e.rendererBgColor.opacity)}))}},beforeDestroy:function(){this.isAnime=!1}},h=(n(436),n(42)),component=Object(h.a)(l,(function(){var e=this._self._c;return e("div",[e("canvas",{ref:"canvas",attrs:{id:"myCanvas"}})])}),[],!1,null,"c2cca2b8",null);t.default=component.exports}}]);