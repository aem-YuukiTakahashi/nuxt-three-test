(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{326:function(e,t,n){var content=n(429);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(103).default)("77619941",content,!0,{sourceMap:!1})},428:function(e,t,n){"use strict";n(326)},429:function(e,t,n){var r=n(102)(!1);r.push([e.i,"\n.background[data-v-fcd96040] {\n  width: 100%;\n  height: 100vh;\n  height: 100svh;\n  background-color: gray;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1;\n}\n#myCanvas[data-v-fcd96040] {\n  min-width: 100%;\n  min-height: 100vh;\n  min-height: 100svh;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2;\n}\n.wrapper[data-v-fcd96040] {\n  position: relative;\n  z-index: 3;\n  display: flex;\n  align-items: center;\n}\n.inner[data-v-fcd96040] {\n  width: 90%;\n  max-width: 320px;\n  margin: 0 auto 60px;\n  text-align: center;\n  padding: 30px;\n  background-color: rgba(255,255,255,.5);\n}\n.disp-none[data-v-fcd96040] {\n  display: none;\n}\n",""]),e.exports=r},478:function(e,t,n){"use strict";n.r(t);n(27),n(79);var r=n(257),o=n(463),l=n(426),d=n(465),h=n(427),c={data:function(){return{renderer:null,scene:null,camera:null,bubbleList:[],MaxBubbleCount:10,isAnime:!0,fov:50,composer:null,bloomPass:null,clearPass:null,clearColor:"000000",clearAlpha:1,threshold:0,strength:1,radius:1}},computed:{fovRad:function(){return this.fov/2*(Math.PI/180)},distance:function(){return window.innerHeight/2/Math.tan(this.fovRad)},bgColor:function(){var e=parseInt(this.clearColor.replace("#","0x"),16);return new r.j(e)},bubbleCount:function(){return this.MaxBubbleCount}},mounted:function(){this.init()},methods:{init:function(){this.creatBubble();var e=window.innerWidth,t=window.innerHeight,n=new r.F(this.fov,e/t);n.position.z=this.distance,n.lookAt(new r.V(0,0,0)),this.camera=n;var c=new r.J;this.scene=c;for(var i=0;i<this.bubbleList.length;i++){var v=this.bubbleList[i];c.add(v.mesh)}var m=new r.X({canvas:document.querySelector("#myCanvas")});m.setPixelRatio(window.devicePixelRatio),m.setClearColor(0,0),this.renderer=m;var w=new l.a(c,n);w.clear=!1;var f=new d.a(new r.U(window.innerWidth,window.innerHeight),1.5,.4,.85);f.threshold=this.threshold,f.strength=this.strength,f.radius=this.radius,this.bloomPass=f;var x=new h.a(this.bgColor,this.clearAlpha);this.clearPass=x;var P=new o.a(this.renderer);P.addPass(x),P.addPass(w),P.addPass(f),this.composer=P,this.onResize(),window.addEventListener("resize",this.onResize,!1),this.animate()},animate:function(){if(!this.isAnime)return cancelAnimationFrame(this.animate);requestAnimationFrame(this.animate),this.render()},render:function(){for(var e=window.innerWidth,t=window.innerHeight,i=0;i<this.bubbleList.length;i++){var n=this.bubbleList[i],r=n.mesh,o=r.position.x,l=r.position.y,d=o+Math.cos(n.angle)*n.velocity,h=l+Math.sin(n.angle)*n.velocity;r.position.set(d,h,0),(d-n.radius>e/2||d+n.radius<-1*e/2||h-n.radius>t/2||h+n.radius<-1*t/2)&&(n.angle=Math.random()*Math.PI*2,n.velocity=1+.5*Math.random())}this.composer.render()},creatBubble:function(){for(var e=window.innerWidth,i=(window.innerHeight,0);i<this.bubbleCount;i++){var t=4+Math.random()*e/10,n=new r.O(t,t/2,t/2),o=new r.z({color:16777215}),l=new r.y(n,o),d=this.creatBubblePosition();l.position.set(d.x,d.y,d.z);var h={mesh:l,radius:t,angle:function(){return Math.random()*Math.PI*2}.call(),velocity:function(){return 1+.5*Math.random()}.call()};this.bubbleList.push(h)}console.log(this.bubbleList)},creatBubblePosition:function(){var e=window.innerWidth,t=window.innerHeight,n=e/2-Math.random()*e,r=t/2-Math.random()*t;return console.log("x =",n,"y =",r),{x:n,y:r,z:0}},onResize:function(){var e=window.innerWidth,t=window.innerHeight;this.camera.aspect=e/t,this.camera.updateProjectionMatrix(),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(e,t),this.composer.setSize(e,t)},setParam:function(){console.log(),this.clearPass.clearColor=this.bgColor,this.clearPass.clearAlpha=this.clearAlpha,this.bloomPass.threshold=this.threshold,this.bloomPass.strength=this.strength,this.bloomPass.radius=this.radius}},beforeDestroy:function(){this.isAnime=!1}},v=(n(428),n(42)),component=Object(v.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"background"}),t("canvas",{ref:"canvas",attrs:{id:"myCanvas"}}),t("div",{staticClass:"wrapper"},[t("div",{staticClass:"inner"},[t("div",{staticClass:"disp-none"},[e._v("PARAM TEST"),t("div",[t("p",[e._v("背景色")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.clearColor,expression:"clearColor"}],attrs:{placeholder:"背景色"},domProps:{value:e.clearColor},on:{input:function(t){t.target.composing||(e.clearColor=t.target.value)}}})]),t("div",[t("br"),t("p",[e._v("背景色透過度")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.clearAlpha,expression:"clearAlpha"}],attrs:{placeholder:"発光エフェクト: 閾値"},domProps:{value:e.clearAlpha},on:{input:function(t){t.target.composing||(e.clearAlpha=t.target.value)}}})]),t("div",[t("br"),t("p",[e._v("発光エフェクト: 閾値")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.threshold,expression:"threshold"}],attrs:{placeholder:"発光エフェクト: 閾値"},domProps:{value:e.threshold},on:{input:function(t){t.target.composing||(e.threshold=t.target.value)}}})]),t("div",[t("br"),t("p",[e._v("発光エフェクト: 強さ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.strength,expression:"strength"}],attrs:{placeholder:"発光エフェクト: 強さ"},domProps:{value:e.strength},on:{input:function(t){t.target.composing||(e.strength=t.target.value)}}})]),t("div",[t("br"),t("p",[e._v("発光エフェクト: 半径")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.radius,expression:"radius"}],attrs:{placeholder:"発光エフェクト: 半径"},domProps:{value:e.radius},on:{input:function(t){t.target.composing||(e.radius=t.target.value)}}})]),t("div",[t("br"),t("button",{on:{click:e.setParam}},[e._v("更新")]),t("br"),t("br")])]),t("div",[e._v("LINK"),t("br"),t("nuxt-link",{attrs:{to:"/demo/blob"}},[e._v("blob")]),t("br"),t("nuxt-link",{attrs:{to:"/demo/bubble"}},[e._v("bubble")])],1)])])])}),[],!1,null,"fcd96040",null);t.default=component.exports}}]);